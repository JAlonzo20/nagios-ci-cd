name: Agregar PCs PC-LAB autom치ticamente

permissions:
  contents: write

on:
  workflow_dispatch:
    inputs:
      count:
        description: "Cu치ntas PCs nuevas quieres agregar (ej. 5)"
        required: true
        default: "1"

jobs:
  add_hosts:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Configurar Python
        uses: actions/setup-python@v5
        with:
          python-version: "3.x"

      - name: Ejecutar script de generaci칩n de hosts
        run: |
          python tools/add_pc_lab_hosts.py --count ${{ inputs.count }}

      - name: Commit y push autom치ticos
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "Auto: agregar ${{ inputs.count }} hosts PC-LAB"
          commit_user_name: "Nagios CI Bot"
          commit_user_email: "ci-bot@example.com"
          branch: main
